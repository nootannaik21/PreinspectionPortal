<div class="row">
    <div class="col text-left">
        <h3>List of Inspection</h3>
    </div>
    <div class="col text-right">
        <button type="button" class="btn btn-primary" ngbTooltip="btn-primary" Permission
            [permission]="'Admin|Branch|OPS|IMD'" (click)="gotoAddInspectionScreen()"> Add
            Inspection </button>
    </div>
</div>
<div class="row">
    &nbsp;
</div>
<div class="row">
    <div class="col-sm-12" class="table-responsive">
        <app-card cardClass="card-datatable" [hidHeader]="true" [options]="false">
            <div class="table-responsive">
                <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                    class="table table-striped table-bordered table-hover shrink-table-cell">
                    <thead>
                        <tr>
                            <th class="text-left" style="width: 5%;">Sl #</th>
                            <th class="text-left" style="min-width: 8%;">Reference #</th>
                            <th class="text-left" style="min-width: 10%;">Created Date</th>
                            <th class="text-left" style="min-width: 10%;">IMD/SM Code</th>
                            <th class="text-left" style="min-width: 15%;">Customer</th>
                            <th class="text-left" style="min-width: 15%;">Vendor Organization</th>
                            <th class="text-left" style="min-width: 15%;">Vendor</th>
                            <th class="text-left" style="min-width: 10%;">Status</th>
                            <!-- <th class="text-left" style="min-width: 10%;">Location</th>
                            <th class="text-left" style="width: 10%;">Vehicle Reg.#</th> -->
                            <th class="text-center" style="width: 5%;">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of inspectionList; let i=index">
                            <td class="text-left">
                                {{ (i +1) }}
                            </td>
                            <td class="text-left">
                                {{item.referenceno}}
                            </td>
                            <td class="text-left">
                                {{item.createdDate |  date:'dd/MM/yyyy'}}
                            </td>
                            <td class="text-left">
                                {{item.imdcode}}
                            </td>
                            <td class="text-left">
                                {{item.clientname}}
                            </td>
                            <td class="text-left">
                                {{item.vendorOrganization}}
                            </td>
                            <td class="text-left">
                                {{item.vendorEmailId}}
                            </td>
                            <td class="text-left">
                                {{(item.statusid==1) ? "Recommended" : (item.statusid==2) ? "Not Recommended" : (item.statusid)==3 ? "Rescheduled" : (item.statusid)==4 ? "Cancelled":(item.statusid)==5 ? "Appointmant Fix" : "Request Raised"}}
                            </td>
                            <!-- <td class="text-left">
                                {{item.inspectionlocation}}
                            </td>
                            <td class="text-left">
                                {{item.registrationno}}
                            </td> -->
                            <td class="text-left">
                                <span>
                                    <i class="feather icon-eye pr-3" className="tooltipstext" title="View Inspection"
                                    style="cursor: pointer;" (click)="viewInspection(item)" Permission [permission]="'Admin|Branch|IMD|OPS|Claims'"></i>
                                </span>
                                <span>
                                    <i class="feather icon-edit pr-3" className="tooltipstext" title="Edit Inspection"
                                    style="cursor: pointer;" (click)="editInspectionRow(item)" Permission [permission]="'Admin|Vendor|OPS|Branch|IMD|Claims'"></i>
                                </span>
                                <span *ngIf="(item.statusid==1)||(item.statusid==2)||(item.statusid==4)">
                                    <i class="feather icon-download" className="tooltipstext" title="Download Inspection Documents"
                                        style="cursor: pointer;" Permission (click)="downloadDoc(item.documentPath)" [permission]="'Admin|Claims'"></i>
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </app-card>
    </div>
</div>
